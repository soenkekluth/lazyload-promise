/*!
 * lazyload-promise 1.1.0 - lazy loading images src and or srcset width promise magic Edit
 * Copyright (c) 2017 SÃ¶nke Kluth <soenke.kluth@gmail.com> (http://soenkekluth.com/) - https://github.com/soenkekluth/lazyload-promise#readme
 * License: MIT
 */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.lazyload=n():e.lazyload=n()}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var c=t[r]={exports:{},id:r,loaded:!1};return e[r].call(c.exports,c,c.exports,n),c.loaded=!0,c.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(module,exports){eval("'use strict';\n\nexports.__esModule = true;\nvar source = function source(src) {\n  return src;\n};\n\nvar loadImage = function loadImage(img) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      onLoad = _ref.onLoad,\n      onProgress = _ref.onProgress,\n      onStart = _ref.onStart,\n      onError = _ref.onError,\n      _ref$setSource = _ref.setSource,\n      setSource = _ref$setSource === undefined ? source : _ref$setSource;\n\n  return new Promise(function (resolve, reject) {\n    var src = img.getAttribute('data-src');\n    var srcset = img.getAttribute('data-srcset');\n\n    if (!(src || srcset)) {\n      resolve(img);\n    }\n\n    var onLoaded = function onLoaded(e) {\n      e.target.removeEventListener('load', onLoaded);\n      e.target.removeEventListener('error', onLoaded);\n\n      setTimeout(function () {\n        if (onLoad) {\n          onLoad(img);\n        }\n        resolve(img);\n      }, 0);\n    };\n\n    img.addEventListener('load', onLoaded);\n    img.addEventListener('error', onLoaded);\n\n    if (src && img.getAttribute('src') !== src) {\n      img.src = setSource(src);\n      img.removeAttribute('data-src');\n    }\n    if (srcset && img.getAttribute('srcset') !== srcset) {\n      img.srcset = setSource(srcset);\n      img.removeAttribute('data-srcset');\n    }\n  });\n};\n\nvar lazyLoad = function lazyLoad(el) {\n  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref2$resize = _ref2.resize,\n      resize = _ref2$resize === undefined ? false : _ref2$resize,\n      _ref2$selector = _ref2.selector,\n      selector = _ref2$selector === undefined ? '[data-src], [data-srcset]' : _ref2$selector,\n      onLoad = _ref2.onLoad,\n      onProgress = _ref2.onProgress,\n      onStart = _ref2.onStart,\n      onError = _ref2.onError,\n      setSource = _ref2.setSource;\n\n  if (!el) {\n    return Promise.reject(el);\n  }\n  var images = Array.prototype.slice.call(el.querySelectorAll(selector));\n\n  if (!images.length) {\n    return Promise.resolve(el);\n  }\n\n  var height = resize ? el.clientHeight : 0;\n\n  return Promise.all(images.map(function (img) {\n    return loadImage(img, { onLoad: onLoad, onProgress: onProgress, onStart: onStart, onError: onError, setSource: setSource });\n  })).then(function () {\n    if (height && typeof window !== 'undefined') {\n      window.dispatchEvent(new Event('resize'));\n    }\n\n    return images;\n  });\n};\n\nexports.default = lazyLoad;\nmodule.exports = exports['default'];//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbGF6eWxvYWQuanM/NmNhYyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzb3VyY2UgPSBzcmMgPT4gc3JjO1xuXG5jb25zdCBsb2FkSW1hZ2UgPSAoaW1nLCB7IG9uTG9hZCwgb25Qcm9ncmVzcywgb25TdGFydCwgb25FcnJvciwgc2V0U291cmNlID0gc291cmNlIH0gPSB7fSkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICBjb25zdCBzcmMgPSBpbWcuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpO1xuICBjb25zdCBzcmNzZXQgPSBpbWcuZ2V0QXR0cmlidXRlKCdkYXRhLXNyY3NldCcpO1xuXG4gIGlmICghKHNyYyB8fCBzcmNzZXQpKSB7XG4gICAgcmVzb2x2ZShpbWcpO1xuICB9XG5cbiAgY29uc3Qgb25Mb2FkZWQgPSAoZSkgPT4ge1xuICAgIGUudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvbkxvYWRlZCk7XG4gICAgZS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkxvYWRlZCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChvbkxvYWQpIHtcbiAgICAgICAgb25Mb2FkKGltZyk7XG4gICAgICB9XG4gICAgICByZXNvbHZlKGltZyk7XG4gICAgfSwgMCk7XG4gIH1cblxuICBpbWcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uTG9hZGVkKTtcbiAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25Mb2FkZWQpO1xuXG4gIGlmIChzcmMgJiYgaW1nLmdldEF0dHJpYnV0ZSgnc3JjJykgIT09IHNyYykge1xuICAgIGltZy5zcmMgPSBzZXRTb3VyY2Uoc3JjKTtcbiAgICBpbWcucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXNyYycpO1xuICB9XG4gIGlmIChzcmNzZXQgJiYgaW1nLmdldEF0dHJpYnV0ZSgnc3Jjc2V0JykgIT09IHNyY3NldCkge1xuICAgIGltZy5zcmNzZXQgPSBzZXRTb3VyY2Uoc3Jjc2V0KTtcbiAgICBpbWcucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXNyY3NldCcpO1xuICB9XG59KTtcblxuY29uc3QgbGF6eUxvYWQgPSAoZWwsIHsgcmVzaXplID0gZmFsc2UsIHNlbGVjdG9yID0gJ1tkYXRhLXNyY10sIFtkYXRhLXNyY3NldF0nLCBvbkxvYWQsIG9uUHJvZ3Jlc3MsIG9uU3RhcnQsIG9uRXJyb3IsIHNldFNvdXJjZSB9ID0ge30pID0+IHtcbiAgaWYgKCFlbCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlbCk7XG4gIH1cbiAgY29uc3QgaW1hZ2VzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZWwucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuXG4gIGlmICghaW1hZ2VzLmxlbmd0aCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZWwpO1xuICB9XG5cbiAgY29uc3QgaGVpZ2h0ID0gcmVzaXplID8gZWwuY2xpZW50SGVpZ2h0IDogMDtcblxuICByZXR1cm4gUHJvbWlzZS5hbGwoaW1hZ2VzLm1hcChpbWcgPT4gbG9hZEltYWdlKGltZywgeyBvbkxvYWQsIG9uUHJvZ3Jlc3MsIG9uU3RhcnQsIG9uRXJyb3IsIHNldFNvdXJjZSB9KSkpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKGhlaWdodCAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGltYWdlcztcbiAgICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCBsYXp5TG9hZDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvbGF6eWxvYWQuanMiXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQS9CQTtBQUNBO0FBZ0NBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9")}])});